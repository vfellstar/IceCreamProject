<!DOCTYPE html>

<!--
The submit button sends a JSON map to 'orders.php'. key is the name of the product, value is the flavour.
HOWEVER! the final key of the map is 'totalOrderCost' its value being the total amount it costs!
So the people doing HorsePay have to know this to get the value to charge the people.

If there is time later i will attempt to fix this and move everything to an external script. 
For now, getting the site to work is priority

This file and all of its contents were created by Vincent Taylor on 15/02/2021.

Version 1.2

Updated Functions - Added the ability to view the total in the bottom of the page - Vincent Taylor 21/02/2021.
Updated Functions - Sends JSON object to 'orders.php' - 25/02/2021.
-->

<html lang="en-GB">

<head>
    <title>Order</title>
    <meta charset="utf-8">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="products.css" />
    <script>
        /**
         * This is a function that will send a JSON object to the orders.php file.
         * Modified from Dan's PHP tutorials
         * */
        function sendToServer(jsonObject) {
            let request = new XMLHttpRequest();
            request.open('POST', 'orders.php', true);
            request.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) // means everything is alright - Source: https://stackoverflow.com/questions/17561463/readystate-vs-status-200/26087812
                {
                    document.getElementById('orderComplete').innerHTML = this.responseText;
                }
            };

            request.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
            request.send(jsonObject);
            return false;
        }




    </script>
</head>

<body>
    <div id="main-screen">
        <header id="title">
            <h1>Flavours</h1>
            <nav>
                <ul>
                    <li><a href="#vanilla" class="li">Vanilla</a></li>
                    <li><a href="#honeycomb" class="li">Honeycomb</a></li>
                    <li><a href="#rum_and_raisin" class="li">Rum and Raisin</a></li>
                    <li><a href="#mint" class="li">Mint</a></li>
                    <li><a href="#cherry" class="li">Cherry</a></li>
                    <li><a href="#chocolate" class="li">Chocolate</a></li>
                    <li><a href="#salted_caramel" class="li">Salted Caramel</a></li>
                    <li><a href="#strawberry" class="li">Strawberry</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <form method="POST" action="orders.php" onsubmit="sendToServer(orderMap)" id="selectGoods">
                <!--Need to make a script and place that here in the action bit-->
                <section id="vanilla">
                    <h2>
                        Vanilla
                    </h2>

                    <ul>
                        <li><label for="vanillaS">Small </label><select name="vanillaSAmount" id="vanillaS">
                                <option value="0" selected >0</option>
                                <option value="1" >1</option>
                                <option value="2" >2</option>
                                <option value="3" >3</option>
                                <option value="4" >4</option>
                                <option value="5" >5</option>
                                <option value="6" >6</option>
                                <option value="7" >7</option>
                                <option value="8" >8</option>
                                <option value="9" >9</option>
                    </select></li>

                        <li><label for="vanillaM">Medium </label><select name="vanillaMAmount" id="vanillaM">
                        <option value="0" selected >0</option>
                        <option value="1" >1</option>
                        <option value="2" >2</option>
                        <option value="3" >3</option>
                        <option value="4" >4</option>
                        <option value="5" >5</option>
                        <option value="6" >6</option>
                        <option value="7" >7</option>
                        <option value="8" >8</option>
                        <option value="9" >9</option>
                    </select></li>

                        <li><label for="vanillaL">Large </label><select name="vanillaLAmount" id="vanillaL">
                        <option value="0" selected>0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                    </select></li>

                        <li><label for="vanillaXL">Extra Large </label><select name="vanillaXLAmount" id="vanillaXL">
                        <option value="0" selected>0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                    </select></li>

                        <li><label for="vanillaXXL">XX Large </label><select name="vanillaXXLAmount" id="vanillaXXL">
                        <option value="0" selected>0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                    </select></li>
                    </ul>
                </section>

                <section id="honeycomb">
                    <h2>
                        Honeycomb
                    </h2>
                    <ul>
                        <li><label for="honeycombS">Small </label><select name="honeycombSAmount" id="honeycombS">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="honeycombM">Medium </label><select name="honeycombMAmount" id="honeycombM">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="honeycombL">Large </label><select name="honeycombLAmount" id="honeycombL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="honeycombXL">Extra Large </label><select name="honeycombXLAmount" id="honeycombXL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="honeycombXXL">XX Large </label><select name="honeycombXXLAmount" id="honeycombXXL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>
                    </ul>
                </section>

                <section id="rum_and_raisin">
                    <h2>
                        Rum and Raisin
                    </h2>
                    <ul>
                        <li><label for="rum_and_raisinS">Small </label><select name="rum_and_raisinSAmount" id="rum_and_raisinS">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="rum_and_raisinM">Medium </label><select name="rum_and_raisinMAmount" id="rum_and_raisinM">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="rum_and_raisinL">Large </label><select name="rum_and_raisinLAmount" id="rum_and_raisinL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="rum_and_raisinXL">Extra Large </label><select name="rum_and_raisinXLAmount" id="rum_and_raisinXL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="rum_and_raisinXXL">XX Large </label><select name="rum_and_raisinXXLAmount" id="rum_and_raisinXXL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                    </ul>
                </section>

                <section id="mint">
                    <h2>
                        Mint
                    </h2>
                    <ul>
                        <li><label for="mintS">Small </label><select name="mintSAmount" id="mintS">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="mintM">Medium </label><select name="mintMAmount" id="mintM">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="mintL">Large </label><select name="mintLAmount" id="mintL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="mintXL">Extra Large </label><select name="mintXLAmount" id="mintXL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="mintXXL">XX Large </label><select name="mintXXLAmount" id="mintXXL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                    </ul>
                </section>

                <section id="cherry">
                    <h2>
                        Cherry
                    </h2>
                    <ul>
                        <li><label for="cherryS">Small </label><select name="cherrySAmount" id="cherryS">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="cherryM">Medium </label><select name="cherryMAmount" id="cherryM">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="cherryL">Large </label><select name="cherryLAmount" id="cherryL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="cherryXL">Extra Large </label><select name="cherryXLAmount" id="cherryXL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="cherryXXL">XX Large </label><select name="cherryXXLAmount" id="cherryXXL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                    </ul>
                </section>

                <section id="chocolate">
                    <h2>
                        Chocolate
                    </h2>
                    <ul>
                        <li><label for="chocolateS">Small </label><select name="chocolateSAmount" id="chocolateS">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="chocolateM">Medium </label><select name="chocolateMAmount" id="chocolateM">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="chocolateL">Large </label><select name="chocolateLAmount" id="chocolateL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="chocolateXL">Extra Large </label><select name="chocolateXLAmount" id="chocolateXL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="chocolateXXL">XX Large </label><select name="chocolateXXLAmount" id="chocolateXXL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                    </ul>
                </section>

                <section id="salted_caramel">
                    <h2>
                        Salted Caramel
                    </h2>
                    <ul id="scList">
                        <li><label for="salted_caramelS">Small </label><select name="salted_caramelSAmount" id="salted_caramelS">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>
                        <li><label for="salted_caramelM">Medium </label><select name="salted_caramelMAmount" id="salted_caramelM">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>
                        <li><label for="salted_caramelL">Large </label><select name="salted_caramelLAmount" id="salted_caramelL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>
                        <li><label for="salted_caramelXL">Extra Large </label><select name="salted_caramelXLAmount" id="salted_caramelXL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>
                        <li><label for="salted_caramelXXL">XX Large </label><select name="salted_caramelXXLAmount" id="salted_caramelXXL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>
                    </ul>
                    <p id="surcharge">
                        75p surcharge for orders containing this flavour.
                    </p>
                </section>

                <section id="strawberry">
                    <h2>
                        Strawberry
                    </h2>
                    <ul>
                        <li><label for="strawberryS">Small </label><select name="strawberrySAmount" id="strawberryS">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="strawberryM">Medium </label><select name="strawberryMAmount" id="strawberryM">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="strawberryL">Large </label><select name="strawberryLAmount" id="strawberryL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="strawberryXL">Extra Large </label><select name="strawberryXLAmount" id="strawberryXL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                        <li><label for="strawberryXXL">XX Large </label><select name="strawberryXXLAmount" id="strawberryXXL">
                            <option value="0" selected>0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select></li>

                    </ul>
                </section>


                <section id="finish">
                    <figure>
                        <p>Have you got everything? ^^</p>
                        <iframe src="https://giphy.com/embed/3o7ZeASQKvSDCMVP44" width="480" height="370" frameborder="0"></iframe>
                        <figcaption>
                            <button type="button" id="confirm-selection">I've selected everything! ^^</button>
                            <button type="reset" id="resetButton">Reset Selection</button>
                        </figcaption>
                        <!--The button above when pressed will submit form data, 
                            parse it and display everything they have ordered in the basket below-->
                        <p>press the above button then confirm your orders below!</p>
                        <p id="smallSurcharge">Note: orders containing salted caramel have a 75p surcharge!</p>
                    </figure>
                </section>

                <div>
                    <figure id="orders">
                        <figcaption>
                            Your Orders
                        </figcaption>
                        <p id="totalCost"></p>
                        <table id="checkOrders">
                        </table>
                        <figcaption>
                            <button type="submit" value="Submit Order" id="submitForm" disabled="disabled">Submit</button>

                            <!--The button above when pressed will submit form data to confirm the order!
                        Make sure this then adds the correct quantities to the databases for statistics,
                        And that the total price is then forwarded to the payment system.-->
                        </figcaption>
                    </figure>
                </div>

            </form>
            <div id="orderComplete"></div>

        </main>
        <footer>
            <p>Cavalllo Traditional Italian Ice Cream 2021 - page designed by Vincent Taylor</p>
        </footer>
    </div>

    <!-- This contains all the JavaScript that controls the behaviours of the webpage.-->
    <script>
        // This is the list of Flavours - it is used to pair the values with what people have ordered!
        const flavourAndSize = ["Vanilla (S)", "Vanilla (M)", "Vanilla (L)", "Vanilla (XL)", "Vanilla (XXL)",
            "Honeycomb (S)", "Honeycomb (M)", "Honeycomb (L)", "Honeycomb (XL)", "Honeycomb (XXL)",
            "Rum Raisin (S)", "Rum Raisin (M)", "Rum Raisin (L)", "Rum Raisin (XL)", "Rum Raisin (XXL)",
            "Mint (S)", "Mint (M)", "Mint (L)", "Mint (XL)", "Mint (XXL)",
            "Cherry (S)", "Cherry (M)", "Cherry (L)", "Cherry (XL)", "Cherry (XXL)",
            "Chocolate (S)", "Chocolate (M)", "Chocolate (L)", "Chocolate (XL)", "Chocolate (XXL)",
            "Salted Caramel (S)", "Salted Caramel (M)", "Salted Caramel (L)", "Salted Caramel (XL)", "Salted Caramel (XXL)",
            "Strawberry (S)", "Strawberry (M)", "Strawberry (L)", "Strawberry (XL)", "Strawberry (XXL)"
        ];

        // This will be instanced later on and used to get all the values in the forms.
        var elements;

        // This is an empty map that will contain all the values in the form, paired with their flavour and size.
        let orderMap = new Map();

        // This is an empty map - but will be filled with values and paired with the flavour and size of the ice cream ordered.
        // It will only contain pairs with values more than 0 i.e. only selected products.
        // It will be used to print out what they have selected in the order screen.
        let orderedGoods = new Map();

        // These variables are what will be displayed in the basket section
        toDisplay = "<tr><th>Item       :</th><th>Quantity</th></tr>";
        let cost = 0;
        let totalCost = "Total Cost: £";

        /**
         * This function calculates the cost resets the form and called the resetPanel() function.
         * */
        function completeReset() {
            document.getElementById("selectGoods").reset();
            resetPanel();
        }

        /**
         * This function enables the submit button
         * */
        function enableSubmitButton() {
            document.getElementById("submitForm").disabled = false;
        }

        /**
         * This function disables the submit button
         * */
        function disableSubmitButton() {
            document.getElementById("submitForm").disabled = true;
        }

        /**
         * This function resets the panel
         * */
        function resetPanel() {
            disableSubmitButton();
            orderMap = new Map();
            orderedGoods = new Map();
            toDisplay = "<tr><th>Items Ordered   :</th><th>Quantity</th></tr>";
            document.getElementById("checkOrders").innerHTML = toDisplay;
            cost = 0;
            document.getElementById("totalCost").innerHTML = totalCost + parseFloat(Number(cost)).toFixed(2);
        }

        /**
         * This function this function is used to get all the items a peron has ordered and inserts them into 
         * the orderMap map.
         * It is also used to enable the button - meaning that only when there is an item selected, can the 
         * user push the order button.
         * This function also puts each order into its own cell and creates and adds cells to add to a table.
         * This table contains two columns - one with the item ordered, the other with the quantity of each item.
         * It then calculates how much the total cost is based on what is ordered and displays it in the basket.
         * */
        function getOrders() {
            resetPanel();

            elements = document.getElementById('selectGoods').elements;

            for (let i = 0; i < elements.length; i++) {
                orderMap.set(flavourAndSize[i], elements[i].value)
            }

            for (let [key, value] of orderMap) {
                if (value > 0) {
                    orderedGoods.set(key, value);
                    enableSubmitButton();
                }
            }



            for (let [key, value] of orderedGoods) {
                let table = document.getElementById("checkOrders");
                let row = table.insertRow(1);
                let cell1 = row.insertCell(0);
                let cell2 = row.insertCell(1);
                let productName = key + ": ";
                let quantity = value + ".";
                var costOfset = 0;

                cell1.innerHTML = productName;
                cell2.innerHTML = quantity;

                if (productName.includes("(S)")) {
                    let amount = 1.75 * Number(value);
                    if (productName.includes("Salted")) {
                        amount += 0.75;
                    }
                    costOfset += amount;
                } else if (productName.includes("(M)")) {
                    let amount = 2.25 * Number(value);
                    if (productName.includes("Salted")) {
                        amount += 0.75;
                    }
                    costOfset += amount;
                } else if (productName.includes("(L)")) {
                    let amount = 2.75 * Number(value);
                    if (productName.includes("Salted")) {
                        amount += 0.75;
                    }
                    costOfset += amount;
                } else if (productName.includes("(XL)")) {
                    let amount = 3.50 * Number(value);
                    if (productName.includes("Salted")) {
                        amount += 0.75;
                    }
                    costOfset += amount;
                } else if (productName.includes("(XXL)")) {
                    let amount = 5.75 * Number(value);
                    if (productName.includes("Salted")) {
                        amount += 0.75;
                    }
                    costOfset += amount;
                }


                toDisplay += "</table>";
                cost += costOfset;
                document.getElementById("totalCost").innerHTML = totalCost + parseFloat(Number(cost)).toFixed(2);

                orderMap.set("totalOrderCost", costOfset);

            }
        }
        function mapToJson(map) {
            if (map != null) {
                return JSON.stringify(orderMap);
            } else {
                return 0;
            }
        }
        /**
         * This is an inline script
         * Make it so it submits the order correctly when you push submit!
         */
        function sendOrder() {
            fetch('getJsonOrders.php', {
                method: "post",
                body: mapToJson(orderMap),
                headers: {
                    "Content-type": "application/json"
                }
            }).then(function(response) {
                return response.text();
            }).then(function(text) {
                console.log(text)
            }).catch(function(error) {
                console.log(error);
            })
        }

        // These are statements that alter the behaviours of the buttons.
        document.getElementById("submitForm").addEventListener("click", sendOrder);
        document.getElementById("confirm-selection").addEventListener("click", getOrders);
        document.getElementById("resetButton").addEventListener("click", completeReset);
    </script>
</body>

</html>